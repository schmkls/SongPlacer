{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mmick\\\\Documents\\\\eget\\\\songplacer\\\\SongPlacer\\\\frontend\\\\src\\\\pages\\\\library\\\\PlaylistCreate.js\",\n    _s = $RefreshSig$();\n\nimport { React, useContext, useState } from 'react';\nimport { UserContext } from '../../context';\nimport Globals from '../../globals/Globals.css';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SUCCESS = 0;\nconst FAIL = 1;\nconst UNKNOWN = 2;\n\nconst PlaylistCreate = () => {\n  _s();\n\n  const userContext = useContext(UserContext);\n  const userId = userContext.userId;\n  const [playlist, setPlaylist] = useState();\n  const [status, setStatus] = useState(UNKNOWN);\n  /**\r\n   * Adds playlists\r\n   */\n\n  const addPlaylist = async () => {\n    //notice backticks ` \n    const postUrl = `http://localhost:3001/library/${userId}/create-playlist`;\n    Axios.post(postUrl, {\n      playlistName: playlist\n    }).then(response => {\n      if (response.status === 200) {\n        //200 = OK, anything else indicates error\n        setStatus(SUCCESS);\n      } else {\n        setStatus(FAIL);\n      }\n    }).catch(err => {\n      setStatus(FAIL);\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    addPlaylist();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"margin-top\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => handleSubmit(e),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Playlist name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          type: \"text\",\n          onChange: e => setPlaylist(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Add playlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), status === SUCCESS ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Playlist added!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }, this) : status === FAIL ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Error, playlist could not be added\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(PlaylistCreate, \"PpsIINjT3VpNwuJn/Pgo89q8ZSc=\");\n\n_c = PlaylistCreate;\nexport default PlaylistCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaylistCreate\");","map":{"version":3,"names":["React","useContext","useState","UserContext","Globals","Axios","SUCCESS","FAIL","UNKNOWN","PlaylistCreate","userContext","userId","playlist","setPlaylist","status","setStatus","addPlaylist","postUrl","post","playlistName","then","response","catch","err","handleSubmit","e","preventDefault","target","value"],"sources":["C:/Users/mmick/Documents/eget/songplacer/SongPlacer/frontend/src/pages/library/PlaylistCreate.js"],"sourcesContent":["import {React, useContext, useState} from 'react';\r\nimport { UserContext } from '../../context';\r\nimport Globals from '../../globals/Globals.css'\r\nimport Axios from 'axios';\r\n\r\nconst SUCCESS = 0;\r\nconst FAIL = 1;\r\nconst UNKNOWN = 2;\r\n\r\nconst PlaylistCreate = () => {\r\n\r\n  const userContext = useContext(UserContext);\r\n  const userId = userContext.userId;\r\n\r\n  const [playlist, setPlaylist] = useState();\r\n  const [status, setStatus] = useState(UNKNOWN);\r\n\r\n  /**\r\n   * Adds playlists\r\n   */\r\n  const addPlaylist = async() => {\r\n\r\n    //notice backticks ` \r\n    const postUrl = `http://localhost:3001/library/${userId}/create-playlist`;\r\n\r\n    Axios.post(postUrl, {\r\n            playlistName: playlist\r\n        }).then((response) => {\r\n            if (response.status === 200) {      //200 = OK, anything else indicates error\r\n                setStatus(SUCCESS);\r\n            } else {\r\n                setStatus(FAIL);\r\n            }\r\n        }).catch((err) => {\r\n            setStatus(FAIL);\r\n        });\r\n\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    addPlaylist();\r\n  }\r\n\r\n  return (\r\n    <div className=\"margin-top\">\r\n      <form onSubmit={(e) => handleSubmit(e)}>\r\n        <label>\r\n          <p>Playlist name</p>\r\n          <input required type=\"text\" onChange={e => setPlaylist(e.target.value)} />\r\n        </label>\r\n        <div>\r\n            <button type=\"submit\">Add playlist</button>\r\n        </div>\r\n      </form>\r\n      {\r\n        status === SUCCESS ?\r\n          <h2>Playlist added!</h2> \r\n          :\r\n          status === FAIL ?\r\n            <h2>Error, playlist could not be added</h2>\r\n            :\r\n          <></>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlaylistCreate;"],"mappings":";;;AAAA,SAAQA,KAAR,EAAeC,UAAf,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,MAAMC,OAAO,GAAG,CAAhB;AACA,MAAMC,IAAI,GAAG,CAAb;AACA,MAAMC,OAAO,GAAG,CAAhB;;AAEA,MAAMC,cAAc,GAAG,MAAM;EAAA;;EAE3B,MAAMC,WAAW,GAAGT,UAAU,CAACE,WAAD,CAA9B;EACA,MAAMQ,MAAM,GAAGD,WAAW,CAACC,MAA3B;EAEA,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,EAAxC;EACA,MAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAACM,OAAD,CAApC;EAEA;AACF;AACA;;EACE,MAAMQ,WAAW,GAAG,YAAW;IAE7B;IACA,MAAMC,OAAO,GAAI,iCAAgCN,MAAO,kBAAxD;IAEAN,KAAK,CAACa,IAAN,CAAWD,OAAX,EAAoB;MACZE,YAAY,EAAEP;IADF,CAApB,EAEOQ,IAFP,CAEaC,QAAD,IAAc;MAClB,IAAIA,QAAQ,CAACP,MAAT,KAAoB,GAAxB,EAA6B;QAAO;QAChCC,SAAS,CAACT,OAAD,CAAT;MACH,CAFD,MAEO;QACHS,SAAS,CAACR,IAAD,CAAT;MACH;IACJ,CARL,EAQOe,KARP,CAQcC,GAAD,IAAS;MACdR,SAAS,CAACR,IAAD,CAAT;IACH,CAVL;EAYD,CAjBD;;EAmBA,MAAMiB,YAAY,GAAIC,CAAD,IAAO;IAC1BA,CAAC,CAACC,cAAF;IACAV,WAAW;EACZ,CAHD;;EAKA,oBACE;IAAK,SAAS,EAAC,YAAf;IAAA,wBACE;MAAM,QAAQ,EAAGS,CAAD,IAAOD,YAAY,CAACC,CAAD,CAAnC;MAAA,wBACE;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UAAO,QAAQ,MAAf;UAAgB,IAAI,EAAC,MAArB;UAA4B,QAAQ,EAAEA,CAAC,IAAIZ,WAAW,CAACY,CAAC,CAACE,MAAF,CAASC,KAAV;QAAtD;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAKE;QAAA,uBACI;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QALF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,EAWId,MAAM,KAAKR,OAAX,gBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,GAGEQ,MAAM,KAAKP,IAAX,gBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,gBAGA,qCAjBN;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAsBD,CAzDD;;GAAME,c;;KAAAA,c;AA2DN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}