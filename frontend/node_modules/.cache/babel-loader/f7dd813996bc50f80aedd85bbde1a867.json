{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mmick\\\\Documents\\\\eget\\\\songplacer\\\\SongPlacer\\\\frontend\\\\src\\\\components\\\\common\\\\EditPlaylist.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useContext } from \"react\";\nimport Axios from \"axios\";\nimport { UserContext } from \"../../context\";\n/**\r\n * Component for editing playlist name. \r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst EditPlaylist = props => {\n  _s();\n\n  const userContext = useContext(UserContext);\n  const userId = userContext.userId;\n  const playlistId = props.playlistId;\n  const originalName = props.playlistName;\n  const [newName, setNewName] = useState(originalName);\n  const setPlaylistName = props.setPlaylistName;\n\n  const changeName = e => {\n    e.preventDefault(); //in order not to reload\n\n    const putUrl = `http://localhost:3001/library/${userId}/update-playlist/${playlistId}`;\n    Axios.put(putUrl, {\n      playlistId: playlistId,\n      playlistName: newName\n    }).then(response => {\n      if (response.status === 200) {\n        //200 = OK, anything else indicates error\n        setPlaylistName(newName);\n        console.log(\"change name success\");\n      } else {\n        console.log(\"update playlist name response: \" + response.status);\n      }\n    }).catch(err => {\n      console.log(\"update playlist name error\");\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: props.show ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => changeName(e),\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Give new playlist name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => setNewName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Change name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n  }, void 0, false);\n};\n\n_s(EditPlaylist, \"BkQ3FEq3Pgz86TTX8hCROQwRD7U=\");\n\n_c = EditPlaylist;\nexport default EditPlaylist;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditPlaylist\");","map":{"version":3,"names":["React","useState","useContext","Axios","UserContext","EditPlaylist","props","userContext","userId","playlistId","originalName","playlistName","newName","setNewName","setPlaylistName","changeName","e","preventDefault","putUrl","put","then","response","status","console","log","catch","err","show","target","value"],"sources":["C:/Users/mmick/Documents/eget/songplacer/SongPlacer/frontend/src/components/common/EditPlaylist.js"],"sourcesContent":["import { React, useState, useContext } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { UserContext } from \"../../context\";\r\n\r\n\r\n/**\r\n * Component for editing playlist name. \r\n */\r\nconst EditPlaylist = (props) => {\r\n    \r\n    const userContext = useContext(UserContext);\r\n    const userId = userContext.userId;\r\n\r\n    const playlistId = props.playlistId;\r\n    const originalName = props.playlistName;\r\n    const [newName, setNewName] = useState(originalName);\r\n    const setPlaylistName = props.setPlaylistName;\r\n    \r\n    const changeName = (e) => {\r\n        e.preventDefault();     //in order not to reload\r\n\r\n        const putUrl = `http://localhost:3001/library/${userId}/update-playlist/${playlistId}`;\r\n\r\n        Axios.put(putUrl, {\r\n            playlistId: playlistId, \r\n            playlistName: newName\r\n        }).then((response) => {\r\n            if (response.status === 200) {      //200 = OK, anything else indicates error\r\n                setPlaylistName(newName);\r\n                console.log(\"change name success\");\r\n            } else {\r\n                console.log(\"update playlist name response: \" + response.status)\r\n            }\r\n        }).catch((err) => {\r\n            console.log(\"update playlist name error\")\r\n        });        \r\n    }\r\n\r\n    return (\r\n        <>\r\n            {\r\n                props.show ?\r\n                    <form onSubmit={(e) => changeName(e)}>\r\n                <label>\r\n                    <p>Give new playlist name</p>\r\n                    <input type=\"text\" onChange={e => setNewName(e.target.value)}/>\r\n                </label>\r\n                <div>\r\n                    <button type=\"submit\">Change name</button>\r\n                </div>\r\n            </form>\r\n                    :\r\n                        <></>\r\n            }\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default EditPlaylist;"],"mappings":";;;AAAA,SAASA,KAAT,EAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,eAA5B;AAGA;AACA;AACA;;;;;AACA,MAAMC,YAAY,GAAIC,KAAD,IAAW;EAAA;;EAE5B,MAAMC,WAAW,GAAGL,UAAU,CAACE,WAAD,CAA9B;EACA,MAAMI,MAAM,GAAGD,WAAW,CAACC,MAA3B;EAEA,MAAMC,UAAU,GAAGH,KAAK,CAACG,UAAzB;EACA,MAAMC,YAAY,GAAGJ,KAAK,CAACK,YAA3B;EACA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAACS,YAAD,CAAtC;EACA,MAAMI,eAAe,GAAGR,KAAK,CAACQ,eAA9B;;EAEA,MAAMC,UAAU,GAAIC,CAAD,IAAO;IACtBA,CAAC,CAACC,cAAF,GADsB,CACE;;IAExB,MAAMC,MAAM,GAAI,iCAAgCV,MAAO,oBAAmBC,UAAW,EAArF;IAEAN,KAAK,CAACgB,GAAN,CAAUD,MAAV,EAAkB;MACdT,UAAU,EAAEA,UADE;MAEdE,YAAY,EAAEC;IAFA,CAAlB,EAGGQ,IAHH,CAGSC,QAAD,IAAc;MAClB,IAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;QAAO;QAChCR,eAAe,CAACF,OAAD,CAAf;QACAW,OAAO,CAACC,GAAR,CAAY,qBAAZ;MACH,CAHD,MAGO;QACHD,OAAO,CAACC,GAAR,CAAY,oCAAoCH,QAAQ,CAACC,MAAzD;MACH;IACJ,CAVD,EAUGG,KAVH,CAUUC,GAAD,IAAS;MACdH,OAAO,CAACC,GAAR,CAAY,4BAAZ;IACH,CAZD;EAaH,CAlBD;;EAoBA,oBACI;IAAA,UAEQlB,KAAK,CAACqB,IAAN,gBACI;MAAM,QAAQ,EAAGX,CAAD,IAAOD,UAAU,CAACC,CAAD,CAAjC;MAAA,wBACJ;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,IAAI,EAAC,MAAZ;UAAmB,QAAQ,EAAEA,CAAC,IAAIH,UAAU,CAACG,CAAC,CAACY,MAAF,CAASC,KAAV;QAA5C;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADI,eAKJ;QAAA,uBACI;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QALI;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,gBAWQ;EAbhB,iBADJ;AAmBH,CAjDD;;GAAMxB,Y;;KAAAA,Y;AAmDN,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}