{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mmick\\\\Documents\\\\eget\\\\songplacer\\\\SongPlacer\\\\frontend\\\\src\\\\pages\\\\handleUser\\\\ActuallyLogin.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState } from \"react\";\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst NOT_LOGGED_IN = 1;\nconst LOGIN_FAIL = 2;\nconst LOGIN_SUCCES = 3;\n/**\r\n * @param props.setToken used for setting token received at login \r\n * @param props.setUserId used for setting user id received at login \r\n * @returns page for logging in user. Use it so it doesn't show after login succeeded. \r\n */\n\nconst ActuallyLogin = props => {\n  _s();\n\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginStatus, setLoginStatus] = useState(NOT_LOGGED_IN);\n\n  const loginUser = async () => {\n    console.log(\"frontend logging in user: \" + username + \", \" + password);\n    Axios.post(\"http://localhost:3001/verify-user\", {\n      userName: username,\n      password: password\n    }).then(response => {\n      if (response.status == 200) {\n        props.setToken({\n          token: response.data\n        });\n        setLoginStatus(LOGIN_SUCCES);\n      } else {\n        setLoginStatus(LOGIN_FAIL);\n      }\n    }).catch(err => {\n      setLoginStatus(LOGIN_FAIL);\n      console.log(\"verify user error: \" + err);\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    loginUser();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), loginStatus === LOGIN_FAIL ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login failed\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ActuallyLogin, \"yXVGY8Aib2xkec7VMqDcqmtrfpI=\");\n\n_c = ActuallyLogin;\nexport default ActuallyLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"ActuallyLogin\");","map":{"version":3,"names":["React","useState","Axios","NOT_LOGGED_IN","LOGIN_FAIL","LOGIN_SUCCES","ActuallyLogin","props","username","setUsername","password","setPassword","loginStatus","setLoginStatus","loginUser","console","log","post","userName","then","response","status","setToken","token","data","catch","err","handleSubmit","e","preventDefault","target","value"],"sources":["C:/Users/mmick/Documents/eget/songplacer/SongPlacer/frontend/src/pages/handleUser/ActuallyLogin.js"],"sourcesContent":["import {React, useState} from \"react\";\r\nimport Axios from 'axios';\r\n\r\n\r\nconst NOT_LOGGED_IN = 1;\r\nconst LOGIN_FAIL = 2;\r\nconst LOGIN_SUCCES = 3;\r\n\r\n/**\r\n * @param props.setToken used for setting token received at login \r\n * @param props.setUserId used for setting user id received at login \r\n * @returns page for logging in user. Use it so it doesn't show after login succeeded. \r\n */\r\nconst ActuallyLogin = (props) => {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [loginStatus, setLoginStatus] = useState(NOT_LOGGED_IN);\r\n\r\n    const loginUser = async() => {\r\n        console.log(\"frontend logging in user: \" + username + \", \" + password);\r\n\r\n        Axios.post(\"http://localhost:3001/verify-user\", {\r\n            userName: username, \r\n            password: password \r\n        }).then((response) => {\r\n            if (response.status == 200) {\r\n                props.setToken({token: response.data});\r\n                setLoginStatus(LOGIN_SUCCES);\r\n            } else {\r\n                setLoginStatus(LOGIN_FAIL);\r\n            }           \r\n        }).catch((err) => {\r\n            setLoginStatus(LOGIN_FAIL);\r\n            console.log(\"verify user error: \" + err);\r\n        });\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        loginUser();\r\n    }\r\n\r\n    return(\r\n        <div className=\"login-wrapper\">\r\n            <form onSubmit={handleSubmit}>\r\n                <label>\r\n                    <p>Username</p>\r\n                    <input type=\"text\" onChange={e => setUsername(e.target.value)} />\r\n                </label>\r\n                <label>\r\n                    <p>Password</p>\r\n                    <input type=\"password\" onChange={e => setPassword(e.target.value)} />\r\n                </label>\r\n                <div>\r\n                    <button type=\"submit\">Log in</button>\r\n                </div>\r\n            </form>\r\n\r\n            {\r\n                \r\n                loginStatus === LOGIN_FAIL ?\r\n                        <h2>Login failed</h2>\r\n                    :\r\n                <></>\r\n            }\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ActuallyLogin;"],"mappings":";;;AAAA,SAAQA,KAAR,EAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAGA,MAAMC,aAAa,GAAG,CAAtB;AACA,MAAMC,UAAU,GAAG,CAAnB;AACA,MAAMC,YAAY,GAAG,CAArB;AAEA;AACA;AACA;AACA;AACA;;AACA,MAAMC,aAAa,GAAIC,KAAD,IAAW;EAAA;;EAE7B,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAACE,aAAD,CAA9C;;EAEA,MAAMW,SAAS,GAAG,YAAW;IACzBC,OAAO,CAACC,GAAR,CAAY,+BAA+BR,QAA/B,GAA0C,IAA1C,GAAiDE,QAA7D;IAEAR,KAAK,CAACe,IAAN,CAAW,mCAAX,EAAgD;MAC5CC,QAAQ,EAAEV,QADkC;MAE5CE,QAAQ,EAAEA;IAFkC,CAAhD,EAGGS,IAHH,CAGSC,QAAD,IAAc;MAClB,IAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;QACxBd,KAAK,CAACe,QAAN,CAAe;UAACC,KAAK,EAAEH,QAAQ,CAACI;QAAjB,CAAf;QACAX,cAAc,CAACR,YAAD,CAAd;MACH,CAHD,MAGO;QACHQ,cAAc,CAACT,UAAD,CAAd;MACH;IACJ,CAVD,EAUGqB,KAVH,CAUUC,GAAD,IAAS;MACdb,cAAc,CAACT,UAAD,CAAd;MACAW,OAAO,CAACC,GAAR,CAAY,wBAAwBU,GAApC;IACH,CAbD;EAcH,CAjBD;;EAmBA,MAAMC,YAAY,GAAIC,CAAD,IAAO;IACxBA,CAAC,CAACC,cAAF;IACAf,SAAS;EACZ,CAHD;;EAKA,oBACI;IAAK,SAAS,EAAC,eAAf;IAAA,wBACI;MAAM,QAAQ,EAAEa,YAAhB;MAAA,wBACI;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,IAAI,EAAC,MAAZ;UAAmB,QAAQ,EAAEC,CAAC,IAAInB,WAAW,CAACmB,CAAC,CAACE,MAAF,CAASC,KAAV;QAA7C;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAKI;QAAA,wBACI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,IAAI,EAAC,UAAZ;UAAuB,QAAQ,EAAEH,CAAC,IAAIjB,WAAW,CAACiB,CAAC,CAACE,MAAF,CAASC,KAAV;QAAjD;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ,eASI;QAAA,uBACI;UAAQ,IAAI,EAAC,QAAb;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QATJ;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,EAiBQnB,WAAW,KAAKR,UAAhB,gBACQ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADR,gBAGA,qCApBR;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AA0BH,CAxDD;;GAAME,a;;KAAAA,a;AA0DN,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}