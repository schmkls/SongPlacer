{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mmick\\\\Documents\\\\eget\\\\songplacer\\\\SongPlacer\\\\frontend\\\\src\\\\components\\\\navigation\\\\Nav.js\",\n    _s = $RefreshSig$();\n\nimport './Nav.css';\nimport '../../globals/Globals.css';\nimport { React, useState, useContext } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faBars, faArrowLeft, faClose } from '@fortawesome/free-solid-svg-icons';\nimport usePages from '../../pages/usePages';\nimport { UserContext } from '../../context';\n/**\r\n * Nav bar for app. Shows sidebar on click from < 2 steps in, else \r\n * goes one step back. \r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Nav = props => {\n  _s();\n\n  //name for and links to pages\n  const pagesObj = usePages();\n  const pages = pagesObj.pages;\n  const context = useContext(UserContext);\n  const currUserId = context.userId;\n\n  const getDepth = () => {\n    return window.location.href.split(\"/\").length - 2;\n  };\n\n  const getPageTitle = () => {\n    let currentLocation = window.location.pathname;\n\n    for (let pair in pages) {\n      if (!pages.hasOwnProperty(pair)) continue;\n      let obj = pages[pair];\n      let urlEnding = obj['urlEnding'];\n\n      if (urlEnding === currentLocation) {\n        return obj['name'];\n      }\n    }\n  };\n\n  const [menuOpen, setMenuOpen] = useState(false);\n  const [depth, setDepth] = useState(getDepth());\n  const [pageTitle, setPageTitle] = useState(getPageTitle());\n\n  const toggle = () => {\n    if (depth > 2) {\n      window.history.go(-1);\n      setMenuOpen(false);\n    } else {\n      setMenuOpen(!menuOpen);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"nav-bar\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"page-title\",\n      children: pageTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggle,\n      className: \"nav-btn\",\n      type: \"button\",\n      children: getDepth() > 2 ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faArrowLeft,\n        size: \"2x\",\n        className: \"icon nav-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }, this) : menuOpen ? /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faClose,\n        size: \"2x\",\n        className: \"icon nav-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 33\n      }, this) : /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faBars,\n        size: \"2x\",\n        className: \"icon nav-btn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 33\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), menuOpen ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"side-menu\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: pages.myLibrary.fullUrl,\n            children: \"Library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: pages.nearme.fullUrl,\n            children: \"Near me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: pages.searchUser.fullUrl,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: pages.logout.fullUrl,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Nav, \"m/5TsJ8i2KVA7SabPoDq9+qV5/M=\", false, function () {\n  return [usePages];\n});\n\n_c = Nav;\nexport default Nav;\n\nvar _c;\n\n$RefreshReg$(_c, \"Nav\");","map":{"version":3,"names":["React","useState","useContext","FontAwesomeIcon","faBars","faArrowLeft","faClose","usePages","UserContext","Nav","props","pagesObj","pages","context","currUserId","userId","getDepth","window","location","href","split","length","getPageTitle","currentLocation","pathname","pair","hasOwnProperty","obj","urlEnding","menuOpen","setMenuOpen","depth","setDepth","pageTitle","setPageTitle","toggle","history","go","myLibrary","fullUrl","nearme","searchUser","logout"],"sources":["C:/Users/mmick/Documents/eget/songplacer/SongPlacer/frontend/src/components/navigation/Nav.js"],"sourcesContent":["import './Nav.css';\r\nimport '../../globals/Globals.css';\r\nimport { React, useState, useContext} from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBars, faArrowLeft, faClose } from '@fortawesome/free-solid-svg-icons';\r\nimport usePages from '../../pages/usePages';\r\nimport { UserContext } from '../../context';\r\n\r\n/**\r\n * Nav bar for app. Shows sidebar on click from < 2 steps in, else \r\n * goes one step back. \r\n */\r\nconst Nav = (props) => {\r\n\r\n    //name for and links to pages\r\n    const pagesObj = usePages();\r\n    const pages = pagesObj.pages;\r\n\r\n    const context = useContext(UserContext);\r\n    const currUserId = context.userId;\r\n\r\n    const getDepth = () => {\r\n        return window.location.href.split(\"/\").length - 2;\r\n    } \r\n\r\n    const getPageTitle = () => {\r\n        let currentLocation = window.location.pathname;\r\n\r\n        for (let pair in pages) {\r\n            if (!pages.hasOwnProperty(pair)) continue;\r\n\r\n            let obj = pages[pair];\r\n            let urlEnding = obj['urlEnding'];\r\n            if (urlEnding === currentLocation) {\r\n                return obj['name'];\r\n            }\r\n        }\r\n    }\r\n\r\n    const [menuOpen, setMenuOpen] = useState(false);\r\n    const [depth, setDepth] = useState(getDepth());\r\n    const [pageTitle, setPageTitle] = useState(getPageTitle());\r\n\r\n   \r\n    const toggle = () => {\r\n        if (depth > 2) {\r\n            window.history.go(-1);\r\n            setMenuOpen(false);\r\n        }  else {\r\n            setMenuOpen(!menuOpen);\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <div className='nav-bar'>\r\n            <h2 className='page-title'>{pageTitle}</h2>\r\n            <button onClick={toggle} className='nav-btn' type='button'>\r\n\r\n                {/*Back button if over 2 clicks in app, else menu/close-button*/}\r\n                { getDepth() > 2 ? \r\n                            <FontAwesomeIcon icon={faArrowLeft} size='2x' className='icon nav-btn'/>\r\n                        :\r\n                        menuOpen ? \r\n                                <FontAwesomeIcon icon={faClose} size='2x' className='icon nav-btn'/>\r\n                            :\r\n                                <FontAwesomeIcon icon={faBars} size='2x' className='icon nav-btn'/>\r\n                }    \r\n            </button>\r\n            \r\n            {(menuOpen) ?\r\n                    <div className='side-menu'> \r\n                        <ul>\r\n                            <li>\r\n                                <a href={pages.myLibrary.fullUrl}>Library</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href={pages.nearme.fullUrl}>Near me</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href={pages.searchUser.fullUrl}>Search</a>\r\n                            </li>\r\n                            <li>\r\n                                <a href={pages.logout.fullUrl}>Logout</a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                :\r\n                    <></>\r\n            }\r\n        </div>      \r\n    );\r\n}\r\n\r\nexport default Nav;"],"mappings":"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"},"metadata":{},"sourceType":"module"}