{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mmick\\\\Documents\\\\eget\\\\songplacer\\\\SongPlacer\\\\frontend\\\\src\\\\pages\\\\library\\\\Library.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect, useContext } from 'react';\nimport { UserContext } from \"../../context\";\nimport usePages from '../usePages';\nimport Axios from 'axios';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCirclePlus } from '@fortawesome/free-solid-svg-icons';\nimport Globals from '../../globals/Globals.css';\nimport ListedPlaylist from '../../components/common/ListedPlaylist';\n/**\r\n * @returns library of given owner\r\n */\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Library = () => {\n  _s();\n\n  const userContext = useContext(UserContext);\n  const currUser = userContext.userId; //owner of library\n\n  const currUrl = new URL(window.location.href);\n  const userId = currUrl.searchParams.get('user-id');\n  const pagesHelp = usePages();\n  const pages = pagesHelp.pages;\n  const [username, setUsername] = useState();\n  const [playlists, setPlaylists] = useState([]);\n  const [isLoading, setLoading] = useState(true);\n  /**\r\n   * Fetches playlists after render \r\n   */\n\n  useEffect(() => {\n    //notice backticks ` \n    const getURL = `http://localhost:3001/library/${userId}`;\n    Axios.get(getURL).then(response => {\n      console.log(\"libr response: \" + JSON.stringify(response.data));\n      setPlaylists(response.data);\n    }).catch(err => console.log(\"get playlists error: \" + err));\n  }, []);\n  /**\r\n   * Might set loading to false (if data has been fetched), after render\r\n   */\n\n  useEffect(() => {\n    if (playlists !== null && playlists !== undefined) {\n      setLoading(false);\n    }\n  }, [playlists]);\n  /**\r\n   * Sets username\r\n   */\n\n  useEffect(() => {\n    Axios.get(`http://localhost:3001/get-username/${userId}`).then(response => {\n      setUsername(response.data[0].username);\n    }).catch(err => console.log(\"get username error: \" + err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"library-outmost margin-top\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [username, \"'s library\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), console.log(\"returning my library\"), isLoading ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }, this) : playlists.map((playlist, index) => /*#__PURE__*/_jsxDEV(ListedPlaylist, {\n      playlist: playlist\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 29\n    }, this)), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: pagesHelp.getURL(pages.addplaylist),\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faCirclePlus,\n        size: \"4x\",\n        className: \"icon add-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Library, \"1YbzbIDmFfAGS9wYo0qFshTU9O8=\", false, function () {\n  return [usePages];\n});\n\n_c = Library;\nexport default Library;\n\nvar _c;\n\n$RefreshReg$(_c, \"Library\");","map":{"version":3,"names":["React","useState","useEffect","useContext","UserContext","usePages","Axios","FontAwesomeIcon","faCirclePlus","Globals","ListedPlaylist","Library","userContext","currUser","userId","currUrl","URL","window","location","href","searchParams","get","pagesHelp","pages","username","setUsername","playlists","setPlaylists","isLoading","setLoading","getURL","then","response","console","log","JSON","stringify","data","catch","err","undefined","map","playlist","index","addplaylist"],"sources":["C:/Users/mmick/Documents/eget/songplacer/SongPlacer/frontend/src/pages/library/Library.js"],"sourcesContent":["import { React, useState, useEffect, useContext } from 'react';\r\nimport { UserContext } from \"../../context\";\r\nimport usePages from '../usePages';\r\nimport Axios from 'axios';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCirclePlus } from '@fortawesome/free-solid-svg-icons'\r\nimport Globals from '../../globals/Globals.css';\r\nimport ListedPlaylist from '../../components/common/ListedPlaylist'\r\n\r\n/**\r\n * @returns library of given owner\r\n */\r\nconst Library = () => {\r\n\r\n    const userContext = useContext(UserContext);\r\n    const currUser = userContext.userId;\r\n\r\n    //owner of library\r\n    const currUrl = new URL(window.location.href);\r\n    const userId = currUrl.searchParams.get('user-id');\r\n\r\n    const pagesHelp= usePages();\r\n    const pages = pagesHelp.pages;\r\n\r\n    const [username, setUsername] = useState();\r\n    const [playlists, setPlaylists] = useState([]);\r\n    const [isLoading, setLoading] = useState(true);\r\n\r\n    /**\r\n     * Fetches playlists after render \r\n     */\r\n     useEffect(()=> {\r\n        //notice backticks ` \r\n        const getURL = `http://localhost:3001/library/${userId}`;\r\n        \r\n        Axios.get(getURL).then((response) => {\r\n            console.log(\"libr response: \" + JSON.stringify(response.data));\r\n            setPlaylists(response.data);\r\n        }).catch((err) => console.log(\"get playlists error: \" + err));\r\n    }, []);\r\n\r\n    /**\r\n     * Might set loading to false (if data has been fetched), after render\r\n     */\r\n    useEffect(() => {\r\n        if (playlists !== null && playlists !== undefined) {\r\n        setLoading(false);\r\n    }\r\n    }, [playlists]);\r\n\r\n\r\n    /**\r\n     * Sets username\r\n     */\r\n     useEffect(() => {\r\n        Axios.get(`http://localhost:3001/get-username/${userId}`).then((response) => {\r\n        setUsername(response.data[0].username);\r\n        }).catch((err) => console.log(\"get username error: \" + err))\r\n    }, []);\r\n\r\n    return (\r\n        <div className='library-outmost margin-top'>\r\n            <h4>{username}'s library</h4>\r\n            {console.log(\"returning my library\")}\r\n            {\r\n                isLoading ? \r\n                        <h2>Loading...</h2>\r\n                    :   \r\n                        playlists.map((playlist, index) => (\r\n                            <ListedPlaylist playlist={playlist} key={index}></ListedPlaylist>\r\n                        ))\r\n            }\r\n     \r\n                \r\n            <a href={pagesHelp.getURL(pages.addplaylist)}>\r\n                <FontAwesomeIcon icon={faCirclePlus} size='4x' className='icon add-button'/>\r\n            </a>\r\n              \r\n            \r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Library;"],"mappings":"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"},"metadata":{},"sourceType":"module"}